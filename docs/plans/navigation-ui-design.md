# Plan Todos - 导航与页面设计

> 创建日期：2026-02-13
> 更新日期：2026-02-14
> 状态：✅ 已实现
> 
> **实际状态**：所有页面视图已完成，包括 Dashboard、Todos、Plans、Targets、Milestones、视图切换、统计、设置

---

## 一、导航结构

### 1.1 一级菜单

| 顺序 | 图标 | 名称 | 说明 |
|------|------|------|------|
| 1 | 📊 | 今日总览 | Dashboard，展示今日概要和关键指标 |
| 2 | 📋 | TODOS | 短期事项管理 |
| 3 | 🚀 | PLANS | 长期计划 + 任务 |
| 4 | 🎯 | GOALS | 目标 + 步骤 |
| 5 | 🏆 | MILESTONES | 里程碑 |
| 6 | 👁️ | 视图查看 | 多视图切换 |
| 7 | 📈 | 数据统计 | 多维度统计 |
| 8 | ⚙️ | 设置 | 应用配置 |

### 1.2 二级菜单

```
📋 TODOS
├── 全部 (All)
├── 今日 (Today)
├── 即将到期 (Upcoming)
└── 已完成 (Completed)

🚀 PLANS
├── 进行中 (Active)
└── 已归档 (Archived)

🎯 GOALS
├── 进行中 (Active)
└── 已完成 (Completed)
```

---

## 二、页面设计

### 2.1 今日总览 (Dashboard)

```
┌─────────────────────────────────────────────────────────────────────┐
│  今日总览                                              2026年2月13日  │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐ │
│  │ 📋 今日待办       │  │ ⏰ 即将到期       │  │ ✅ 今日完成      │ │
│  │       5           │  │       3           │  │       8           │ │
│  │  +2 较昨日        │  │  3天内           │  │  +5 较昨日        │ │
│  └──────────────────┘  └──────────────────┘  └──────────────────┘ │
│                                                                     │
│  ─────────────────── 今日待办 ───────────────────                   │
│  ┌─────────────────────────────────────────────────────────────┐  │
│  │ [ ] 任务1 - 截止今天                                         │  │
│  │ [ ] 任务2 - 截止今天                                         │  │
│  │ [ ] 任务3 - 截止今天                                         │  │
│  └─────────────────────────────────────────────────────────────┘  │
│                                                                     │
│  ─────────────────── 进度概览 ───────────────────                  │
│  ┌────────────────────┐  ┌────────────────────┐                   │
│  │ 🚀 Plan A          │  │ 🎯 Target X        │                   │
│  │ ████████░░ 80%     │  │ ██████░░░░ 60%     │                   │
│  │ 4/5 Task           │  │ 3/5 Step           │                   │
│  └────────────────────┘  └────────────────────┘                   │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

**卡片说明**：
- **今日待办**：状态为 pending/in-progress，截止日期为今天的 Todo + Task
- **即将到期**：未来3天内到期的事项
- **今日完成**：今天标记为 done 的事项

---

### 2.2 TODOS 页面

```
┌─────────────────────────────────────────────────────────────────────┐
│  TODOS                                    [+ 新建] [🔍 搜索]      │
├─────────────────────────────────────────────────────────────────────┤
│  [全部] [今日] [即将到期] [已完成]                                  │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  全部 (5)                                                          │
│  ┌─────────────────────────────────────────────────────────────┐  │
│  │ [ ] 任务1                              📅 2026-02-13    🗑️  │  │
│  │     内容描述...                                              │  │
│  ├─────────────────────────────────────────────────────────────┤  │
│  │ [✓] 任务2                              📅 2026-02-14    🗑️  │  │
│  │     内容描述...                         ✅ 2026-02-13        │  │
│  └─────────────────────────────────────────────────────────────┘  │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

**功能**：
- 新建/编辑/删除 Todo
- 筛选：全部/今日/即将到期/已完成
- 搜索
- 状态切换（pending → in-progress → done）
- 截止日期显示

---

### 2.3 PLANS 页面

```
┌─────────────────────────────────────────────────────────────────────┐
│  PLANS                                     [+ 新建Plan]            │
├─────────────────────────────────────────────────────────────────────┤
│  [进行中] [已完成] [已归档]                                         │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  进行中 (3)                                                         │
│                                                                     │
│  ┌───────────────────────────────────────────────────────────────┐ │
│  │ ▶ Plan A                                    🗑️ 📦 📝          │ │
│  │    2026-01-01 ~ 2026-03-31                                   │ │
│  │    ████████████░░░░░░░ 60% (3/5 Task)                      │ │
│  │                                                               │ │
│  │    ▼ Task 列表 (点击展开)                                     │ │
│  │    ┌─────────────────────────────────────────────────────┐  │ │
│  │    │ [ ] Task 1    📅 02-01 ~ 02-15    🗑️ 📝            │  │ │
│  │    ├─────────────────────────────────────────────────────┤  │ │
│  │    │ [✓] Task 2   📅 02-05 ~ 02-20    ✅ 02-13           │  │ │
│  │    ├─────────────────────────────────────────────────────┤  │ │
│  │    │ [ ] Task 3   📅 02-10 ~ 02-25    🗑️ 📝            │  │ │
│  │    └─────────────────────────────────────────────────────┘  │ │
│  └───────────────────────────────────────────────────────────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

**功能**：
- Plan CRUD
- Task CRUD（内联在Plan下）
- 点击Plan展开/收起Task列表
- 进度自动计算（Task完成百分比）
- 归档/删除

---

### 2.4 GOALS 页面

```
┌─────────────────────────────────────────────────────────────────────┐
│  GOALS                                     [+ 新建Target]         │
├─────────────────────────────────────────────────────────────────────┤
│  [进行中] [已完成]                                                 │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  进行中 (2)                                                         │
│                                                                     │
│  ┌───────────────────────────────────────────────────────────────┐ │
│  │ ▶ Target X                                   🗑️ 📝          │ │
│  │    截止日期：2026-06-30                                       │ │
│  │    ████████████░░░░░░░ 70%                                   │ │
│  │    权重总和：70/100                                          │ │
│  │                                                               │ │
│  │    ▼ Steps (点击展开)                                         │ │
│  │    ┌─────────────────────────────────────────────────────┐  │ │
│  │    │ [✓] Step 1 (30%)                        🗑️ 📝      │  │ │
│  │    ├─────────────────────────────────────────────────────┤  │ │
│  │    │ [✓] Step 2 (25%)                        🗑️ 📝      │  │ │
│  │    ├─────────────────────────────────────────────────────┤  │ │
│  │    │ [✓] Step 3 (15%)                        🗑️ 📝      │  │ │
│  │    ├─────────────────────────────────────────────────────┤  │ │
│  │    │ [ ] Step 4 (10%)                        🗑️ 📝      │  │ │
│  │    ├─────────────────────────────────────────────────────┤  │ │
│  │    │ [+ 添加 Step]                                         │  │ │
│  │    └─────────────────────────────────────────────────────┘  │ │
│  │                                                               │ │
│  │    ⚠️ 权重总和需 ≤100%，剩余可用权重：15%                   │ │
│  └───────────────────────────────────────────────────────────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

**功能**：
- Target CRUD
- Step CRUD（内联在Target下）
- 权重分配，创建时校验总和 ≤ 100%
- 进度自动计算（完成的Step权重累加）
- 警告提示（权重超限）

---

### 2.5 MILESTONES 页面

```
┌─────────────────────────────────────────────────────────────────────┐
│  MILESTONES                                 [+ 新建]               │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌───────────────────────────────────────────────────────────────┐ │
│  │ Milestone 1                                    🗑️ 📝          │ │
│  │ 关联：🚀 Plan A                                                │ │
│  │ 目标日期：2026-03-15                                          │ │
│  │ 进度：60% (自动计算)                                           │ │
│  │ 状态：进行中                                                   │ │
│  └───────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  ┌───────────────────────────────────────────────────────────────┐ │
│  │ Milestone 2                                    🗑️ 📝          │ │
│  │ 关联：🎯 Target X                                              │ │
│  │ 目标日期：2026-06-30                                          │ │
│  │ 进度：70% (自动计算)                                           │ │
│  │ 状态：进行中                                                   │ │
│  └───────────────────────────────────────────────────────────────┘ │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

**功能**：
- Milestone CRUD
- 关联类型选择（Plan/Task/Target三选一）
- 进度自动根据关联项计算
- 状态切换

---

### 2.6 视图查看 页面

```
┌─────────────────────────────────────────────────────────────────────┐
│  视图查看                                                           │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  [📋 列表] [📊 看板] [📅 日历] [📈 时间线]                          │
│                                                                     │
│  [✓] 计划 [✓] 任务 [✓] 目标 [✓] 待办 [✓] 里程碑   [全选] [取反]    │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

**视图类型**：
- **列表视图**：层级展示 Plans→Tasks, Targets→Steps, Todos, Milestones（隐藏已完成的Todo）
- **看板视图**：三列（待处理/进行中/已完成），悬停显示详情卡片
- **日历视图**：月视图，从周一开始，周六日高亮显示，支持前后翻月
- **时间线视图**：甘特图样式，展示项目时间分布，支持悬停查看详情

**交互功能**：
- 类型筛选：Checkbox 样式，带全选/取反按钮
- 悬停详情：日历和看板视图悬停显示详情浮窗（标题、状态、进度、日期）
- 日历导航：支持查看前后月份
- 周末高亮：日历视图中周六、周日用红色标识

---

### 2.7 数据统计 页面

```
┌─────────────────────────────────────────────────────────────────────┐
│  数据统计                                                           │
├─────────────────────────────────────────────────────────────────────┤
│  [完成率] [数量统计] [趋势分析]                                     │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ─────────────────── 完成率 ───────────────────                     │
│                                                                     │
│  本周完成率：75%                                                    │
│  ┌────────────────────────────────────────────────────────────────┐ │
│  │ ████████████████████████████████████████░░░░░░░░░░░░░ 75%    │ │
│  └────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│  日/周/月 完成趋势                                                  │
│  │                                                                  │
│  │            █                                                   │
│  │      █     █ █         █                                       │
│  │     █ █   █ █ █       █ █         █                          │
│  │    ████  ███ ███     ████        █ █                          │
│  │   ████████ █████    ██████       ███                          │
│  │ ──────────────────────────────────────────────────────────────  │
│  │   周一   周二   周三   周四   周五   周六   周日               │
│                                                                     │
│  ─────────────────── 数量统计 ───────────────────                   │
│                                                                     │
│  │  Todo   │  Plan  │  Task  │ Target │ Step  │ Milestone │    │
│  │   45    │   12   │   28   │   8    │  35   │     5     │    │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

**统计维度**：
- 完成率（日/周/月）
- 各类型数量
- 趋势图表

---

### 2.8 设置 页面

```
┌─────────────────────────────────────────────────────────────────────┐
│  设置                                                               │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ─────────────────── 外观 ───────────────────                      │
│                                                                     │
│  主题                                                               │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐                              │
│  │  🟢 浅色 │ │  🔵 深色 │ │  ⬜ 自动 │                              │
│  └─────────┘ └─────────┘ └─────────┘                              │
│                                                                     │
│  ─────────────────── 通知 ───────────────────                       │
│                                                                     │
│  [ ] 开启通知提醒                                                   │
│  提醒时间：提前 [15] 分钟                                          │
│  通知方式：🔔 铃声  📱 振动                                        │
│                                                                     │
│  ─────────────────── 数据 ───────────────────                      │
│                                                                     │
│  [ 导出数据 ]  [ 导入数据 ]  [ 清空数据 ]                          │
│                                                                     │
│  ─────────────────── 关于 ───────────────────                      │
│                                                                     │
│  Plan Todos v1.0.0                                                  │
│  本地优先的跨平台任务管理应用                                         │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

**设置项**：
- 主题（浅色/深色/自动）
- 通知开关、提醒时间
- 数据导出/导入
- 关于

---

## 三、组件设计

### 3.1 通用组件

| 组件 | 用途 |
|------|------|
| `Sidebar` | 侧边栏导航 |
| `MenuItem` | 菜单项（二级菜单） |
| `Card` | 信息卡片 |
| `ListItem` | 列表项 |
| `ProgressBar` | 进度条 |
| `Badge` | 标签/徽章 |
| `Modal` | 弹窗 |
| `Form` | 表单（新建/编辑） |
| `DatePicker` | 日期选择器 |
| `SearchBar` | 搜索框 |

### 3.2 实体卡片

| 实体 | 卡片组件 |
|------|---------|
| Todo | `TodoCard` |
| Plan | `PlanCard` |
| Task | `TaskCard` |
| Target | `TargetCard` |
| Step | `StepCard` |
| Milestone | `MilestoneCard` |

---

## 四、交互设计

### 4.1 展开/收起

- Plan 卡片点击展开显示 Task 列表
- Target 卡片点击展开显示 Step 列表
- 展开动画：smooth height transition

### 4.2 状态切换

- Todo/Task：pending → in-progress → done（点击checkbox或下拉菜单）
- Step：pending ↔ done（点击checkbox）
- Milestone：pending ↔ done

### 4.3 进度计算

| 实体 | 计算方式 |
|------|---------|
| Plan | (完成的Task数 / 总Task数) × 100% |
| Target | 所有完成Step的权重之和 |
| Milestone | 关联实体的完成度 |

---

## 五、下一步

- [x] 拆分各模块为独立设计文档
- [x] 定义数据库Schema
- [x] 设计API接口
- [ ] 实现组件库
- [ ] 实现页面
